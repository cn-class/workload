{% extends "base.html" %}
{% load crispy_forms_tags %}
{% crispy TeachingForm TeachingForm.helper %}


{% block navbar %}
{% include 'navbar.html' %}
{% endblock navbar %}

{% block content %}

	<div class="row">
		<div class="col-lg-12">
	  		<h1 class="page-header">งานสอน</h2>

	  	</div>
	</div>
  	<div class="row">
	  	<div class="col-lg-12">
	  		<a href="{% url 'workload:create' %}" class="btn btn-info">เพิ่ม</a>
	  		<a class="glyphicon glyphicon-plus btn btn-info" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo" ></a>
		</div>
	</div>
	<br>
	<div class="row">
	<div class="col-lg-12">
	<table class="table table-hover" >
		<thead>
			<tr>
				<th class="text-center">รหัสวิชา</th>
				<th class="text-center">ชื่อวิชา</th>
				<th class="text-center">สัดส่วนการสอน</th>
				<th class="text-center"><div><span>จำนวนหน่วยกิตการบรรยาย</div></span></th>
				<th class="text-center">จำนวนหน่วยกิตการปฏิบัติการ</th>
				<th class="text-center">ประเภทโครงการ</th>
				<th class="text-center">จำนวนนักศึกษา</th>
				<th class="text-center">สัดส่วนคะแนน</th>
				<!-- <th class="col-sm-1 text-center">หมายเหตุ</th> -->
				{% if request.user.is_staff  %}
				<th class="text-center">User</th>
				{% endif %}
				<!-- <th class="col-sm-1 text-center">แก้ไข</th>
				<th class="col-sm-1 text-center">ลบ</th> -->
			</tr>
		</thead>
		<tbody>
			{% for obj in object_list %}	
			<tr>
				<td class="text-center">{{ obj.subject_ID }}</td>
				<td class="col-lg-2 text-center">{{ obj.subject }}</td>
				<td class="text-center">{{ obj.ratio }}</td>
				<td class="text-center">{{ obj.num_of_lecture }}</td>
				<td class="text-center">{{ obj.num_of_lab }}</td>
				<td class="text-center"><small>{{ obj.program_ID }}</small></td>
				<td class="text-center">{{ obj.num_of_student }}</td>
				<td class="text-center">{{ obj.ratio_of_score }}</td>
				<td >
						{% if obj.comment %}
						<a href="">
							<span class="glyphicon glyphicon-comment" aria-hidden="true" data-toggle="tooltip" data-placement="bottom" title="{{obj.comment}}"></span></a>
						{% else %}
						<p class="text-center"><small></small></p>
						{% endif %}
				</td>
				{% if request.user.is_staff  %}
				<td class="text-center">{{ obj.user}}</td>
				{% endif %}
				<td class="text-center">
					<a class="glyphicon glyphicon-cog" href="{% url 'workload:update' id=obj.id %}">
					</a>
				</td>
				<td class="text-center">
					<a href="{% url 'workload:delete' id=obj.id %}" >
						<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
					</a>
				</td>
			</tr>
			{% endfor%}
		</tbody>
	</table>
	</div>
	</div>
	<a href="{% url 'workload:report' %}" class="btn btn-success pull-right"> Report </a>
	<a href="{% url 'workload:export' %}" class="btn btn-default pull-right"> Excel Report </a>

	<!-- workload form -->
	<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" >
		<div class="modal-dialog" role="document">
		    <div class="modal-content">
		      <div class="modal-header">
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		        <h4 class="modal-title" id="exampleModalLabel">Form</h4>
		      </div>
		      <div class="modal-body">

					{% csrf_token %}
					{% crispy form %}

		      </div>
		    </div>
		</div>
	</div>

{% endblock content%}